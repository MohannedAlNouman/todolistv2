(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,n){e.exports=n(57)},57:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(28),l=n.n(r),u=n(1),i=n(7),s=n(4),o=n(10),m=n.n(o);function f(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),n=t[0],r=t[1],l=m.a.create({baseURL:"http://localhost:3001/auth"});return Object(a.useEffect)((function(){l.get("/pullUser",{withCredentials:!0}).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement("div",null,c.a.createElement("h1",null,"Version 009 "),c.a.createElement("h6",null,"BEFORE YOU USE THIS WEBSITE, KNOW THAT I (MOHANNED AL NOUMAN) HAVE ACCESS TO ALL OF YOUR LISTS SO PLEASE DON'T POST ANYTHING PRIVATE"),c.a.createElement("h6",null,"This website may contain a few bugs"),c.a.createElement("h2",null,"Hello ",n.name?n.name:"anonymous"," and welcome to Mohanned's List App!"),c.a.createElement("div",{className:"col-sm-4"},c.a.createElement("div",{className:"card social-block"},c.a.createElement("div",{className:"card-body"},n.name?c.a.createElement("button",{onClick:function(){l.get("/logout",{withCredentials:!0}).then((function(e){r({})})).catch((function(e){console.log(e)}))},className:"btn btn-block",type:"submit"},"Logout"):c.a.createElement("a",{className:"btn btn-block",href:"http://localhost:3001/auth/google",role:"button"},c.a.createElement("i",{className:"fab fa-google"}),"Login with Google")))),c.a.createElement("br",null),n.name?c.a.createElement(s.b,{to:"/MyLists"},c.a.createElement("button",{variant:"outlined"},"Click here to view your lists")):c.a.createElement(s.b,{to:{pathname:"/CreateList",save:!1}},c.a.createElement("button",{variant:"outlined"},"Click here to create a new list (this will not be saved unless you login PRIOR to creating your list)")))}function b(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)([]),u=Object(i.a)(l,2),o=u[0],f=u[1],b=m.a.create({baseURL:"http://localhost:3001"});function h(e){var t=e.target.value;b.delete("/api/"+t,{withCredentials:!0}).then((function(e){f(e.data)})).catch((function(e){console.log(e)}))}return Object(a.useEffect)((function(){b.get("/auth/pullUser",{withCredentials:!0}).then((function(e){r(e.data),f(e.data.lists)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement("div",null,c.a.createElement("h1",null,"Hello ",n.name,", here are your lists:"),o.length>0?o.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("p",{className:"vis"},e.listName?e.listName+" list":"Unnamed list",c.a.createElement(s.b,{className:"invis",to:{pathname:"/CreateList",listId:e.listId,save:!0}},c.a.createElement("button",{variant:"outlined"},c.a.createElement("i",{className:"fas fa-edit"}))),c.a.createElement("button",{className:"invis",value:e.listId,onClick:h,type:"submit",name:"deleteButton"},c.a.createElement("i",{className:"fas fa-trash-alt"}))))})):c.a.createElement("p",null,"You don't have any lists yet! Get started below!"),c.a.createElement(s.b,{to:{pathname:"/CreateList",save:!0}},c.a.createElement("button",{variant:"outlined"},"Click here to create a new list.")),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(s.b,{to:"/"},c.a.createElement("button",{variant:"outlined"},"Click here to return to the homepage.")))}var h=n(9);var E=function(e){return c.a.createElement("form",{action:"",method:""},c.a.createElement("li",{className:"vis "+e.striThro},e.content,c.a.createElement("button",{className:"invis",onClick:function(t){e.handSubI(t,e.cumIndex)},type:"submit",name:"createTxtInput"},c.a.createElement("i",{className:"fas fa-indent"})),c.a.createElement("button",{className:"invis",onClick:function(t){e.handUpda(t,e.cumIndex)},type:"submit",name:"updateButton"},c.a.createElement("i",{className:"fas fa-edit"})),c.a.createElement("button",{className:"invis",onClick:function(t){e.handCros(t,e.cumIndex)},type:"submit",name:"crossOutText"},c.a.createElement("i",{className:"fas fa-strikethrough"})),c.a.createElement("button",{className:"invis",onClick:function(t){e.handDele(t,e.cumIndex)},type:"submit",name:"deleteButton"},c.a.createElement("i",{className:"fas fa-trash-alt"}))))};function p(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),r=n[0],l=n[1],u=Object(a.useState)(""),s=Object(i.a)(u,2),o=s[0],f=s[1],b=Object(a.useState)([]),p=Object(i.a)(b,2),v=p[0],d=p[1],O=Object(a.useState)(""),g=Object(i.a)(O,2),j=g[0],N=g[1],C=Object(a.useState)(e.listId?e.listId:""),I=Object(i.a)(C,2),k=I[0],y=I[1],S=Object(a.useState)("invis"),T=Object(i.a)(S,2),x=T[0],w=T[1],L=m.a.create({baseURL:"http://localhost:3001/api/"});var R=m.a.CancelToken.source();function U(){var e={name:j,items:v};L.post(k,e,{cancelToken:R.token,withCredentials:!0}).then((function(e){k||y(e.data)})).catch((function(e){console.log(e)}))}var A=0;L.interceptors.request.use((function(e){return A++,e}),(function(e){return Promise.reject(e)})),L.interceptors.response.use((function(e){return A--,console.log("Successful request. Remaining: "+A),e}),(function(e){return A--,console.log("Failed request: Remaining: "+A),Promise.reject(e)}));var D=Object(a.useRef)(!k);Object(a.useEffect)((function(){D.current||L.get(k,{withCredentials:!0}).then((function(e){d(Object(h.a)(e.data.items)),N(e.data.name)})).catch((function(e){console.log(e)}))}),[]);var B=Object(a.useRef)(2);Object(a.useEffect)((function(){e.save?B.current>0?(B.current--,D.current&&B.current--,0===B.current&&w()):A>=1?(R.cancel("post cancelled"),U()):U():x&&w()}),[v,j]);var H=Object(a.useRef)(null);Object(a.useEffect)((function(){H.current.focus()}),[v,x]);var M=Object(a.useRef)(null);function P(e){var t=e.target.value;f(t)}function Y(e,t){d((function(e){var n=e.map((function(e){return Object.assign({},e)}));return function e(t,n){var a=n[0];1===n.length?t[a].item=r:(n.splice(0,1),e(t[a].items,n))}(n,t),n})),e.preventDefault(),l("")}function q(e,t){d((function(e){var n=e.map((function(e){return Object.assign({},e)}));return function e(t,n){var a=n[0];1===n.length?t.splice(a,1):(n.splice(0,1),e(t[a].items,n))}(n,t),n})),e.preventDefault()}function F(e,t){d((function(e){var n=e.map((function(e){return Object.assign({},e)}));return function e(t,n){var a=n[0];1===n.length?t[a].strikeThrough=!t[a].strikeThrough:(n.splice(0,1),e(t[a].items,n))}(n,t),n})),e.preventDefault()}Object(a.useEffect)((function(){M.current&&M.current.focus()}),[v]);var G=Object(a.useRef)(!1),V=Object(a.useRef)(!1);function J(e){for(var t=0;t<e.length&&!V.current;t++){if(e[t].txtInput){e[t].txtInput=!1,V.current=!0;break}e[t].items&&0!==e[t].items.length&&J(e[t].items)}}function W(e,t){d((function(e){var n=e.map((function(e){return Object.assign({},e)}));return function e(t,a){var c=a[0];1===a.length?(f(""),t[c].txtInput?(t[c].txtInput=!1,G.current=!1):G.current?(J(n),V.current=!1,t[c].txtInput=!0):(t[c].txtInput=!0,G.current=!0)):(a.splice(0,1),e(t[c].items,a))}(n,t),n})),e.preventDefault()}return c.a.createElement("div",null,c.a.createElement("h3",{className:"vis"},j||"New"," list",c.a.createElement("button",{className:"invis",onClick:function(){N(r),l("")},type:"submit",name:"titleButton"},"Change title")),function e(t,n){var a=n||[];return c.a.createElement("ul",null,t.map((function(t,n){return c.a.createElement("div",null,c.a.createElement(E,{striThro:t.strikeThrough&&"strikeThrough",content:t.item,key:[].concat(Object(h.a)(a),[n]),cumIndex:[].concat(Object(h.a)(a),[n]),handSubI:W,handUpda:Y,handDele:q,handCros:F}),t.items&&0!==t.items.length&&e(t.items,[].concat(Object(h.a)(a),[n])),t.txtInput&&c.a.createElement("form",null,c.a.createElement("input",{className:x,onChange:P,type:"text",name:"subItemInput",value:o,ref:M}),c.a.createElement("button",{className:x,onClick:function(e){!function(e,t){d((function(e){var n=e.map((function(e){return Object.assign({},e)}));return function e(t,n){var a=n[0];1===n.length?t[a].items=t[a].items?[].concat(Object(h.a)(t[a].items),[{item:o}]):[{item:o}]:(n.splice(0,1),e(t[a].items,n))}(n,t),n})),f(""),e.preventDefault()}(e,[].concat(Object(h.a)(a),[n]))},type:"submit",name:"submitButton"},c.a.createElement("i",{className:"fas fa-plus-circle"}))))})))}(v),c.a.createElement("form",null,c.a.createElement("input",{className:x,onChange:function(e){var t=e.target.value;l(t)},type:"text",name:"userInput",value:r,ref:H}),c.a.createElement("button",{className:x,onClick:function(e){d((function(e){var t=e.map((function(e){return Object.assign({},e)}));G.current&&(f(""),J(t),G.current=!1,V.current=!1);var n={item:r};return[].concat(Object(h.a)(t),[n])})),l(""),e.preventDefault()},type:"submit",name:"submitButton"},c.a.createElement("i",{className:"fas fa-plus-circle"}))))}function v(e){return c.a.createElement("div",null,c.a.createElement(p,{listId:e.location.listId,save:e.location.save}),c.a.createElement("br",null),c.a.createElement(s.b,{to:"/"},c.a.createElement("button",{variant:"outlined"},"Click here to return to the homepage")),e.location.save&&c.a.createElement(s.b,{to:"/MyLists"},c.a.createElement("button",{variant:"outlined"},"Click here to return to your lists")))}var d=function(){return c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/",component:f}),c.a.createElement(u.a,{exact:!0,path:"/MyLists",component:b}),c.a.createElement(u.a,{exact:!0,path:"/CreateList",component:v}))};l.a.render(c.a.createElement(s.a,null,c.a.createElement(d,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.55ef2a37.chunk.js.map